(function(e){function t(t){for(var i,n,o=t[0],l=t[1],c=t[2],u=0,f=[];u<o.length;u++)n=o[u],r[n]&&f.push(r[n][0]),r[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},r={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"009d":function(e,t,a){"use strict";var i=a("63c2"),r=a.n(i);r.a},"044c":function(e,t,a){"use strict";var i=a("6a3e"),r=a.n(i);r.a},"0711":function(e,t,a){},"0801":function(e,t,a){},"0d14":function(e,t,a){"use strict";var i=a("f8b3"),r=a.n(i);r.a},"0e2a":function(e,t,a){},"25b1":function(e,t,a){},"52a4":function(e,t,a){"use strict";var i=a("c643"),r=a.n(i);r.a},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),r=a("bb71");a("da64");i["a"].use(r["a"],{iconfont:"md"});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.$user.token.length?a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-side-icon"),a("v-toolbar-title",{staticClass:"white--text"},[a("span",[e._v("Matcha")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",href:"https://github.com/vuetifyjs/vuetify/releases/latest"}},[a("span",{staticClass:"mr-2"},[e._v("Latest Release")])]),a("v-btn",{attrs:{icon:""}},[a("v-icon",{on:{click:e.disconnect}},[e._v("close")])],1)],1):e._e(),a("v-content",[a("router-view")],1)],1)},n=[],o={name:"App",methods:{disconnect(){document.cookie="id=",document.cookie="token=",this.$user={id:"",token:""},this.$router.push("/")}},data:()=>({})},l=o,c=a("2877"),d=a("6544"),u=a.n(d),f=a("7496"),p=a("8336"),m=a("549c"),v=a("132d"),h=a("9910"),b=a("71d9"),g=a("706c"),w=a("2a7f"),k=Object(c["a"])(l,s,n,!1,null,null,null);k.options.__file="App.vue";var x=k.exports;u()(k,{VApp:f["a"],VBtn:p["a"],VContent:m["a"],VIcon:v["a"],VSpacer:h["a"],VToolbar:b["a"],VToolbarSideIcon:g["a"],VToolbarTitle:w["b"]});var _=a("8c4f"),V=a("bc3a"),y=a.n(V),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{color:"primary",dark:"",extended:"",flat:""}},[a("v-spacer"),a("v-toolbar-title",{staticClass:"white--text"},[a("span",[e._v("Matcha")])]),a("v-spacer")],1),a("v-layout",{attrs:{row:"","pb-2":""}},[a("v-flex",{attrs:{xs8:"","offset-xs2":""}},[a("v-card",{staticClass:"card--flex-toolbar"},[a("v-toolbar",{attrs:{card:"",prominent:"",tabs:""}},[a("v-tabs",{attrs:{centered:"",grow:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab",[e._v("\n              Connexion\n            ")]),a("v-tab",[e._v("\n              Registration\n            ")])],1)],1),a("v-divider"),a("v-card-text",{staticStyle:{"min-height":"300px"}},[0==e.tabs?a("connect"):e._e(),1==e.tabs?a("register"):e._e()],1)],1)],1)],1)],1)},P=[],T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{outline:"","single-line":"",rules:e.rules.nickname,label:"Nickname",required:""},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}}),a("v-text-field",{attrs:{type:"password",outline:"","single-line":"",rules:e.rules.password,label:"Password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.nickname?a("div",{staticClass:"right"},[a("p",[a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("a",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n              Forgot your password ?\n            ")]),a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n                An email has been sent\n              ")]),a("v-card-text",[e._v('\n                We sent you a link at "email@mail.com" to reinit your password.\n              ')]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("\n                  OK\n                ")])],1)],1)],1)],1)]):e._e(),a("v-btn",{attrs:{block:"",color:"primary",disabled:!e.valid},on:{click:e.submit}},[e._v("\n        Loggin\n      ")])],1)],1)],1)},C=[];const F=a("bc3a");var O={methods:{submit(){var e=e=>{this.$user={id:e.id,token:e.token};var t=new Date;t.setTime(t.getTime()+1728e5);var a="Expires="+t.toUTCString();document.cookie="id="+e.id+"; "+a,document.cookie="token="+e.token+"; "+a,console.log(e),this.$router.push("profil/")};this.$refs.form.validate()&&F.post("api/users/connect",{nickname:this.nickname,password:this.password}).then(function(t){t.data?e(t.data):console.log("Invalid indentifiers")})}},data:()=>({nickname:"",password:"",valid:!0,dialog:!1,rules:{nickname:[e=>!!e||"Nickname is required"],email:[e=>!!e||"Email is required",e=>/.+@.+/.test(e)||"E-mail must be valid"],password:[e=>!!e||"Password is required"]}})},S=O,j=(a("52a4"),a("b0af")),E=a("99d9"),L=a("12b2"),q=a("169a"),D=a("ce7e"),A=a("0e8f"),I=a("4bd4"),N=a("a722"),M=a("2677"),B=Object(c["a"])(S,T,C,!1,null,null,null);B.options.__file="Connect.vue";var R=B.exports;u()(B,{VBtn:p["a"],VCard:j["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:L["a"],VDialog:q["a"],VDivider:D["a"],VFlex:A["a"],VForm:I["a"],VLayout:N["a"],VSpacer:h["a"],VTextField:M["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{outline:"",rules:e.rules.nickname,label:"Nickname",required:""},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}}),a("v-text-field",{attrs:{outline:"",rules:e.rules.email,label:"E-mail",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{outline:"",rules:e.rules.firstname,label:"Firstname",required:""},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}}),a("v-text-field",{attrs:{outline:"",rules:e.rules.lastname,label:"Lastname",required:""},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}}),a("v-text-field",{attrs:{outline:"",type:"password",rules:e.rules.password,label:"Password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{attrs:{block:"",color:"primary",disabled:!e.valid},on:{click:e.submit}},[e._v("\n        Register\n      ")])],1)],1)],1)},z=[],H={methods:{submit(){this.$refs.form.validate()&&axios.post("/api/users/add",{user:[this.nickname,this.email,this.firstname,this.lastname,this.password]})}},data:()=>({nickname:"",email:"",firstname:"",lastname:"",password:"",valid:!0,rules:{nickname:[e=>!!e||"Nickname is required",e=>e&&e.length<=12||"Name must be between 2 and 16 characters"],email:[e=>!!e||"Email is required",e=>e&&e.length<=32||"Email must be less than 32 characters",e=>/.+@.+/.test(e)||"E-mail must be valid"],firstname:[e=>!!e||"Firstname is required",e=>e&&e.length<=16||"Firstname must be between 2 and 16 characters"],lastname:[e=>!!e||"Lastname is required",e=>e&&e.length<=16||"Lastname must be between 2 and 16 characters"],password:[e=>!!e||"Password is required",e=>e&&e.length<=26&&e.length>=8||"Password must be between 8 and 26 characters",e=>/[0-9]/.test(e)&&/[A-Z]/.test(e)&&/[a-z]/.test(e)||"Password must contain up and low letters and numbers"]}})},U=H,Y=(a("f30e"),Object(c["a"])(U,J,z,!1,null,null,null));Y.options.__file="Register.vue";var W=Y.exports;u()(Y,{VBtn:p["a"],VFlex:A["a"],VForm:I["a"],VLayout:N["a"],VTextField:M["a"]});var Z={components:{Connect:R,Register:W},data:()=>({tabs:0})},G=Z,K=(a("c21d"),a("71a3")),Q=a("fe57"),X=Object(c["a"])(G,$,P,!1,null,null,null);X.options.__file="Welcome.vue";var ee=X.exports;u()(X,{VCard:j["a"],VCardText:E["b"],VDivider:D["a"],VFlex:A["a"],VLayout:N["a"],VSpacer:h["a"],VTab:K["a"],VTabs:Q["a"],VToolbar:b["a"],VToolbarTitle:w["b"]});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",[a("v-flex",{attrs:{xs12:"",sm8:"","pa-2":""}},[a("v-card",[a("pictures",{attrs:{owner:e.owner,id:e.id}}),a("account",{attrs:{owner:e.owner,id:e.id}}),a("v-divider"),a("v-card-text",[a("tags",{attrs:{owner:e.owner,id:e.id}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm4:"","pa-2":""}},[a("bio",{attrs:{owner:e.owner,id:e.id}})],1)],1)},ae=[],ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-xs-center"},[a("v-combobox",{ref:"combobox",attrs:{readonly:!e.owner,disabled:e.disabled,loading:e.isLoading,items:e.tags,"search-input":e.search,label:"Add centers of interest...",chips:"",solo:"",multiple:"",flat:""},on:{"update:searchInput":function(t){e.search=t}},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{attrs:{selected:t.selected,close:e.owner},on:{input:function(a){e.removeClick(t.item)}}},[a("strong",[e._v(e._s(t.item))])])]}}]),model:{value:e.chips,callback:function(t){e.chips=t},expression:"chips"}})],1)},re=[],se={props:["owner","id"],data:()=>({disabled:!1,search:[],tags:[],chips:[],isLoading:!1}),mounted(){y.a.get("api/users/tags",{params:{id:this.id,token:this.$user.token}}).then(e=>{e.data&&(this.chips=e.data.map(e=>e.name))})},methods:{remove(e,t){y.a.post("api/users/removetag",{tag:e,id:this.$user.id,token:this.$user.token}).then(a=>{a.data&&t&&this.chips.splice(this.chips.indexOf(e),1),this.disabled=!1,this.$nextTick(()=>{this.$refs.combobox.focus()})})},removeClick(e){this.owner&&(this.disabled=!0,this.$nextTick(()=>{this.remove(e,1)}))}},watch:{chips:function(e,t){this.owner&&e.length>t.length?(this.disabled=!0,this.$nextTick(()=>{t.includes(e[e.length-1].toLowerCase())?(this.chips.pop(),this.disabled=!1,this.$nextTick(()=>{this.$refs.combobox.focus()})):y.a.post("api/users/addtag",{tag:e[e.length-1].toLowerCase(),id:this.$user.id,token:this.$user.token}).then(a=>{a.data?this.chips[e.length-1]=e[e.length-1].toLowerCase():this.chips=JSON.parse(JSON.stringify(t)),this.disabled=!1,this.$nextTick(()=>{this.$refs.combobox.focus()})})})):this.owner&&e.length<t.length&&(this.disabled=!0,this.$nextTick(()=>{var a=t.filter(t=>!e.includes(t));a.forEach(e=>{this.remove(e,0)})}))},search(e){!this.isLoading&&this.owner&&(e?(this.isLoading=!0,y.a.get("api/tags",{params:{input:e}}).then(e=>{e.data&&(this.tags=e.data.map(e=>e.name),this.isLoading=!1)})):this.tags=[])}}},ne=se,oe=(a("57fd"),a("cc20")),le=a("2b5d"),ce=Object(c["a"])(ne,ie,re,!1,null,null,null);ce.options.__file="Tags.vue";var de=ce.exports;u()(ce,{VChip:oe["a"],VCombobox:le["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("h3",[e._v("Bio")]),a("v-spacer"),e.owner?a("v-btn",{attrs:{icon:""}},[a("v-icon",{on:{click:e.edit}},[e._v(e._s(e.editing?"done":"create"))])],1):e._e()],1),a("v-divider"),a("v-card-text",[e.editing?e._e():a("div",[a("p",[e._v(e._s(e.bio))])]),e.editing?a("v-textarea",{attrs:{outline:""},model:{value:e.bio,callback:function(t){e.bio=t},expression:"bio"}}):e._e()],1)],1)},fe=[],pe={props:["owner","id"],data:()=>({bio:"",editing:!1}),beforeMount(){y.a.get("api/users/bio",{params:{userId:this.$user.id,userToken:this.$user.token,id:this.id}}).then(e=>{e.data&&e.data.content&&(this.bio=e.data.content)})},methods:{edit(){this.editing?y.a.post("api/users/bio",{id:this.$user.id,token:this.$user.token,bio:this.bio}).then(e=>{e.data&&(this.editing=!1)}):this.editing=!0}}},me=pe,ve=(a("009d"),a("a844")),he=Object(c["a"])(me,ue,fe,!1,null,null,null);he.options.__file="Bio.vue";var be=he.exports;u()(he,{VBtn:p["a"],VCard:j["a"],VCardText:E["b"],VCardTitle:L["a"],VDivider:D["a"],VIcon:v["a"],VSpacer:h["a"],VTextarea:ve["a"]});var ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card-title",[a("div",[a("h2",[e._v(e._s(e.profile.nickname)+" ("+e._s(e.calcAge(e.profile.age))+" yo)")]),a("p",{staticClass:"grey--text"},[e._v(e._s(e.profile.firstname)+" "+e._s(e.profile.lastname))])]),a("v-spacer"),a("v-spacer",[e._v(e._s(e.profile.popularity))]),a("h3",[e._v(e._s(e.gender(e.profile.gender))+" "+e._s(e.orientation(e.profile.orientation)))]),e.owner?a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[a("v-icon",[e._v("create")])],1),a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Account settings")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){return e.submit(t)}}},[e._v("Save")])],1)],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.rules.email,label:"E-mail"},model:{value:e.newProfile.email,callback:function(t){e.$set(e.newProfile,"email",t)},expression:"newProfile.email"}}),a("v-text-field",{attrs:{rules:e.rules.firstname,label:"Firstname"},model:{value:e.newProfile.firstname,callback:function(t){e.$set(e.newProfile,"firstname",t)},expression:"newProfile.firstname"}}),a("v-text-field",{attrs:{rules:e.rules.lastname,label:"Lastname"},model:{value:e.newProfile.lastname,callback:function(t){e.$set(e.newProfile,"lastname",t)},expression:"newProfile.lastname"}}),a("v-text-field",{attrs:{type:"password",rules:e.rules.password,label:"Password",placeholder:"********"},model:{value:e.newProfile.password,callback:function(t){e.$set(e.newProfile,"password",t)},expression:"newProfile.password"}}),a("v-radio-group",{attrs:{row:""},model:{value:e.newProfile.gender,callback:function(t){e.$set(e.newProfile,"gender",t)},expression:"newProfile.gender"}},[a("v-radio",{attrs:{label:"Male",color:"blue",value:"1"}}),a("v-radio",{attrs:{label:"Female",color:"pink",value:"2"}})],1),a("v-radio-group",{attrs:{row:""},model:{value:e.newProfile.orientation,callback:function(t){e.$set(e.newProfile,"orientation",t)},expression:"newProfile.orientation"}},[a("v-radio",{attrs:{label:"Heterosexual",color:"green",value:"1"}}),a("v-radio",{attrs:{label:"Homosexual",color:"orange",value:"2"}}),a("v-radio",{attrs:{label:"Bisexual",color:"purple",value:"3"}})],1),a("v-text-field",{attrs:{type:"date",label:"Birthdate",rules:e.rules.birth},model:{value:e.newProfile.age,callback:function(t){e.$set(e.newProfile,"age",t)},expression:"newProfile.age"}})],1)],1)],1):e._e()],1)},we=[],ke={props:["owner","id"],data:()=>({dialog:!1,valid:!0,profile:{},newProfile:{},rules:{birth:[e=>!e||e&&new Date((new Date).getTime()-new Date(e).getTime()).getFullYear()-1970>18||"You must have 18 years old or more"],email:[e=>!e||e&&e.length<=32||"Email must be less than 32 characters",e=>!e||/.+@.+/.test(e)||"E-mail must be valid"],firstname:[e=>!e||e&&e.length>=2&&e.length<=16||"Firstname must be between 2 and 16 characters"],lastname:[e=>!e||e&&e.length>=2&&e.length<=16||"Lastname must be between 2 and 16 characters"],password:[e=>!e||e&&e.length<=26&&e.length>=8||"Password must be between 8 and 26 characters",e=>!e||/[0-9]/.test(e)&&/[A-Z]/.test(e)&&/[a-z]/.test(e)||"Password must contain up and low letters and numbers"]}}),beforeMount(){this.init_profile()},methods:{gender:e=>"1"==e?"Male":"2"==e?"Female":"",orientation:e=>"1"==e?"Heterosexual":"2"==e?"Homosexual":"Bisexual",init_profile(){y.a.get("api/users/profile/"+this.id,{params:this.$user}).then(e=>{e.data&&(this.profile=e.data,this.profile.password="",this.profile.gender=this.profile.gender.toString(),this.profile.orientation=this.profile.orientation.toString(),this.newProfile=JSON.parse(JSON.stringify(this.profile)))})},calcAge:e=>new Date((new Date).getTime()-new Date(e).getTime()).getFullYear()-1970,submit(){const e={password:!!this.newProfile.password&&this.newProfile.password,email:!!this.newProfile.email&&(this.newProfile.email!=this.profile.email&&this.newProfile.email),firstname:!!this.newProfile.firstname&&(this.newProfile.firstname!=this.profile.firstname&&this.newProfile.firstname),lastname:!!this.newProfile.lastname&&(this.newProfile.lastname!=this.profile.lastname&&this.newProfile.lastname),age:!!this.newProfile.age&&(this.newProfile.age!=this.profile.age&&this.newProfile.age),gender:!(!this.newProfile.gender||"0"==this.newProfile.gender)&&(this.newProfile.gender!=this.profile.gender&&parseInt(this.newProfile.gender)),orientation:!!this.newProfile.orientation&&(this.newProfile.orientation!=this.profile.orientation&&parseInt(this.newProfile.orientation))},t=Object.keys(e);let a=!1;t.map(t=>{0!=e[t]&&(a=!0)}),a&&this.$refs.form.validate()?y.a.post("/api/users/edit",{props:e,id:this.$user.id,token:this.$user.token}).then(e=>{this.dialog=!1,this.init_profile()}):this.dialog=!1}}},xe=ke,_e=(a("0d14"),a("67b6")),Ve=a("43a6"),ye=Object(c["a"])(xe,ge,we,!1,null,null,null);ye.options.__file="Account.vue";var $e=ye.exports;u()(ye,{VBtn:p["a"],VCard:j["a"],VCardTitle:L["a"],VDialog:q["a"],VForm:I["a"],VIcon:v["a"],VRadio:_e["a"],VRadioGroup:Ve["a"],VSpacer:h["a"],VTextField:M["a"],VToolbar:b["a"],VToolbarItems:w["a"],VToolbarTitle:w["b"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-responsive",[a("v-carousel",{staticStyle:{background:"grey"},attrs:{"hide-controls":""}},[a("span",{staticClass:"headline"},[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.owner?a("v-btn",{attrs:{slot:"activator",fab:"",light:"",color:"white",icon:""},slot:"activator"},[a("v-icon",[e._v("person_add")])],1):e._e(),a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Profile pictures")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){return e.submit(t)}}},[e._v("Save")])],1)],1),a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",md10:""}},[e.gallery&&e.gallery.length?a("v-layout",{attrs:{"justify-center":""}},e._l(e.gallery,function(e,t){return a("v-flex",{key:t,attrs:{xs6:"",md4:"",lg3:""}},[a("img",{attrs:{src:"@/assets/images/"+e.picture,height:"300"}})])})):e._e(),e.imageFile?a("img",{attrs:{src:e.imageFile,height:"200"}}):e._e(),a("v-text-field",{attrs:{label:"Select Image","prepend-icon":"attach_file"},on:{click:e.browse},model:{value:e.imageName,callback:function(t){e.imageName=t},expression:"imageName"}}),a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.loadFile}}),a("v-btn",{attrs:{disabled:!e.imageFile,color:"primary"},on:{click:e.addFile}},[e._v("Add")])],1)],1)],1)],1)],1),e._l(e.items,function(e,t){return a("v-carousel-item",{key:t,attrs:{src:e.src}})})],2)],1)},Te=[],Ce=(a("5a30"),{props:["owner","id"],data:()=>({gallery:null,dialog:!1,imageName:"",imageURL:null,imageFile:null,items:["/assets/logo.png"]}),beforeMount(){},methods:{submit(){y.a.get("api/users/pictures",{params:this.$user}).then(e=>{e.data&&(console.log(e.data),this.gallery=e.data)})},browse(){this.$refs.image.click()},loadFile(e){const t=new FileReader,a=e.target.files[0];t.onloadend=(()=>{this.imageFile=t.result}),t.readAsDataURL(a)},addFile(){this.imageFile&&(console.log(this.imageFile),y.a.post("api/users/addpicture",{id:this.$user.id,token:this.$user.token,picture:this.imageFile}).then(e=>{e.data&&console.log("--image sent--")}))}}}),Fe=Ce,Oe=(a("b6ca"),a("5e66")),Se=a("3e35"),je=a("6b53"),Ee=Object(c["a"])(Fe,Pe,Te,!1,null,null,null);Ee.options.__file="Pictures.vue";var Le=Ee.exports;u()(Ee,{VBtn:p["a"],VCard:j["a"],VCarousel:Oe["a"],VCarouselItem:Se["a"],VDialog:q["a"],VFlex:A["a"],VIcon:v["a"],VLayout:N["a"],VResponsive:je["a"],VSpacer:h["a"],VTextField:M["a"],VToolbar:b["a"],VToolbarItems:w["a"],VToolbarTitle:w["b"]});var qe={props:["nickname"],beforeMount(){this.nickname?y.a.get("api/id/",{params:this.nickname}).then(function(e){e.data&&(e.data==this.$user.id&&(this.owner=!0),this.id=e.data)}):(this.owner=!0,this.id=this.$user.id)},methods:{},data:()=>({owner:!1}),components:{tags:de,bio:be,account:$e,pictures:Le}},De=qe,Ae=(a("044c"),Object(c["a"])(De,te,ae,!1,null,null,null));Ae.options.__file="Profil.vue";var Ie=Ae.exports;u()(Ae,{VCard:j["a"],VCardText:E["b"],VDivider:D["a"],VFlex:A["a"],VLayout:N["a"]});let Ne=new i["a"]({data:{$user:{id:"",token:""}}});i["a"].mixin({computed:{$user:{get:function(){return Ne.$data.$user},set:function(e){Ne.$data.$user=e}}}});var Me=()=>{function e(e){var t="; "+document.cookie,a=t.split("; "+e+"=");if(2==a.length)return a.pop().split(";").shift()}var t={id:e("id"),token:e("token")};t.id&&t.token&&(Ne.$data.$user=t)},Be=()=>{return Ne.$data.$user.id&&Ne.$data.$user.token||Me(),y.a.post("api/users/check",Ne.$data.$user).then(e=>e)},Re=(e,t,a)=>{Be().then(e=>{console.log(e.data),e.data?a():a("/welcome")})},Je=(e,t,a)=>{Be().then(e=>{e.data?a("/profil"):(Ne.$data.$user={id:"",token:""},a())})};i["a"].use(_["a"]);const ze=new _["a"]({routes:[{path:"/welcome",component:ee,alias:"/",beforeEnter:Je},{path:"/profil",component:Ie,props:!0,beforeEnter:Re},{path:"/profil/:nickname",component:Ie,props:!0,beforeEnter:Re},{path:"*",redirect:"/"}]});i["a"].config.productionTip=!1,new i["a"]({router:ze,render:e=>e(x)}).$mount("#app")},"57fd":function(e,t,a){"use strict";var i=a("0711"),r=a.n(i);r.a},"63c2":function(e,t,a){},"6a3e":function(e,t,a){},b6ca:function(e,t,a){"use strict";var i=a("0801"),r=a.n(i);r.a},c21d:function(e,t,a){"use strict";var i=a("0e2a"),r=a.n(i);r.a},c643:function(e,t,a){},f30e:function(e,t,a){"use strict";var i=a("25b1"),r=a.n(i);r.a},f8b3:function(e,t,a){}});
//# sourceMappingURL=app.5298fc61.js.map